{% with "FIdER - Creazione proxy WIP" as titletag %}
    {% with "proxy_setup_manifest.js" as specificjs %}
        {% with "proxy_setup.css" as specificcss %}
            {% include "layout_header.html" %}
        {% endwith %}
    {%  endwith %}
{% endwith %}

    <!-- maps initialisation -->
    <script src="http://code.jquerygeo.com/jquery.geo-1.0a4.min.js"></script>

<div id="creationmask">

        <div id="proxy_domain">
            <h4>VALIDITÀ</h4>

            <table id="proxy_core_data">
                <tr>
                    <td rowspan=2 id="td_proxy_bb"><div id="proxy_bb"></div></td>
                    <td>INIZIO VALIDITÀ<br>
                        <input type="text" id="datepicker_main_from" size="10"/></td>
                </tr>
                <tr>
                    <td>
                        TERMINE VALIDITÀ <br>
                        <input type="text" id="datepicker_main_to" size="10"/><input type="checkbox" id="disable_main_date_to" onclick="switchMainDateTo()">

                    </td>
                </tr>


            </table>




        </div>



    <div id="proxy_operations">
        <h4>TIPOLOGIA</h4>

        <table id="proxy_ops_table">

            <tr id="proxy_ops_mode">
                <td style="text-align: center">
                    Scrittura<br><input type="radio" class="proxy_ops_type" name="proxy_ops_type" value="write" id="proxy_ops_write">
                </td>
                <td style="text-align: center">
                    Lettura<br><input type="radio" class="proxy_ops_type" name="proxy_ops_type" value="read" id="proxy_ops_read">
                </td>
                <td style="text-align: center">
                    Query<br><input type="radio" class="proxy_ops_type" name="proxy_ops_type" value="query" id="proxy_ops_query">
                </td>
            </tr>
         </table>

        <table id="proxy_ops_select_table">
            <tr id="proxy_ops_select">

            </tr>
        </table>




        </table>


    </div>

        <div id="proxy_metadata">



            <h4>METADATI</h4>
            <table id="metadata_table">
                <thead>
                    <tr><th>Nome</th><th colspan=2>Validità</th><th>Bounding box</th><th>Canc.</th></tr>
                </thead>
                <tbody id="metadata_submitted">




                </tbody>


            </table>


            <table id="metadata_new_submission">
                <tr>
                    <td>
                        NOME<br>
                        <input type="text" id="name_meta_new" size="20" onkeyup="checkMetaName(this)"/>
                    </td>
                    <td rowspan=3 class="mask_define_bb">BBOX <input type="checkbox" id="enable_meta_bbox" checked><br>
                        <div id="proxy_meta_new_bb"></div>
                    </td>


                </tr>
                <tr>
                    <td><input type="checkbox" id="disable_meta_date_from" checked onclick="switchField('#datepicker_meta_new_from', 'Predefinita')">INIZIO VALIDITÀ
                        <br><input type="text" id="datepicker_meta_new_from" size="20"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" id="disable_meta_date_to" checked onclick="switchField('#datepicker_meta_new_to', 'Predefinita')">TERMINE VALIDITÀ
                        <br><input type="text" id="datepicker_meta_new_to" size="20"/>
                    </td>
                </tr>
                <tr><td colspan=2 class="mask_addbutton"><input type="button" id="button_add_meta" value="Aggiungi metadato"></td></tr>



            </table>



        </div>

    <div id="submission">
        <h4>CONVALIDA E INSERIMENTO</h4>

        <div id="submission_checklist">

        </div>


        <div id="controls_send">

            <form action="/proxy/create" method="post">{% csrf_token %}
                <input type="hidden" name="jsondata" id="form_jsondata" value="DEFAULT">
                <input type="submit" id="button_proxy_create" value="Crea proxy">
            </form>
        </div>



    </div>




<script>
    page_init();
</script>

</div>
{% include "layout_footer.html" %}
